[Oname: hellow-maven build action

on:
  push:
    paths:
      # ä»¥ä¸‹ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã®è³‡ç”£ãŒä¿®æ­£ã•ã‚ŒãŸæ™‚ã®ã¿å®Ÿè¡Œ
      - 'hellow-maven/**'

defaults:
  run:
    working-directory: hellow-maven

jobs:
  # "build"ã¨ã„ã†åå‰ã®ã‚¸ãƒ§ãƒ–ã‚’å®šç¾©ã—ã¾ã™
  build:
    # ã“ã®ã‚¸ãƒ§ãƒ–ã¯Ubuntu22.04ç’°å¢ƒã§å®Ÿè¡Œã•ã‚Œã¾ã™
    runs-on: ubuntu-22.04
    permissions:
      # ã“ã®ã‚¸ãƒ§ãƒ–ã«ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã®å†…å®¹ã‚’èª­ã‚€æ¨©é™ã¨ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›¸ãè¾¼ã‚€æ¨©é™ãŒã‚ã‚Šã¾ã™
      contents: read
      packages: write

    steps:
    # ãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¾ã™
    - uses: actions/checkout@v3
    - name: Set up JDK 17
      # JDK 17ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€Javaã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™
      uses: actions/setup-java@v3
      with:
        # ä½¿ç”¨ã™ã‚‹Javaã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®å ´åˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³17ãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã™
        java-version: '17'
        # ä½¿ç”¨ã™ã‚‹Javaã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚Temurinã¯Eclipse FoundationãŒç®¡ç†ã™ã‚‹OpenJDKã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€ã¤ã§ã™
        distribution: 'temurin'
        # Mavenã®settings.xmlãƒ•ã‚¡ã‚¤ãƒ«å†…ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒãƒ¼IDã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®IDã¯ã€MavenãŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™

    - name: Build with Maven
      # Mavenã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™
      run: mvn -B -f pom.xml package install -DskipTests -o
      run: ls
#
#    - name: Publish to GitHub Packages
#      # ãƒ“ãƒ«ãƒ‰ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’GitHub Packagesã«å…¬é–‹
#      run: mvn -B -f hellow-maven/pom.xml deploy -DskipTests --settings hellow-maven/settings.xml
#      env:
#        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
